{% load static %}
{% block content %}

<title>Monitor Registrations</title>

<!-- Include jQuery -->
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

<!-- DataTables CSS and JS -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

<!-- DataTables Buttons extension CSS and JS -->
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.dataTables.min.css">
<script src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.print.min.js"></script>

<style>
    /* General Styling */
    body {
        background-color: #002b20; /* Dark Green Background */
        color: #ffffff; /* White text for better contrast */
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
    }

    h1, h2 {
        color: #a4d4ae; /* Lighter green for headers */
        text-align: center;
        margin-bottom: 20px;
    }

    .table-container {
        padding: 20px;
    }

    .table {
        width: 100%;
        margin: 20px 0;
        border-collapse: collapse;
        font-family: Arial, sans-serif;
        background-color: #004832; /* Dark green for table background */
        color: #ffffff; /* White text for contrast */
        border-radius: 8px; /* Rounded corners for tables */
        overflow: hidden;
    }

    .table thead th {
        background-color: #006644; /* Slightly lighter dark green for header */
        color: #ffffff;
        padding: 10px;
        text-align: center;
        font-weight: bold;
    }

    .table tbody td {
        padding: 8px;
        border: 1px solid #004832; /* Match table border with table background */
        text-align: center;
        color: #fff !important;
    }

    .table tbody tr:nth-child(even) {
        background-color: #003826; /* Alternate row color */
        color : #ffffff;
    }

    .table tbody tr:hover {
        background-color: #00593f; /* Highlighted row on hover */
    }

    /* DataTables Button Styling */
    .dt-button {
        background-color: #007f5f; /* Accent green for buttons */
        color: #ffffff;
        border: none;
        padding: 8px 15px;
        font-size: 14px;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .dt-button:hover {
        background-color: #005f47; /* Slightly darker green on hover */
    }

    /* Additional Styling */
    .dataTables_wrapper .dataTables_paginate .paginate_button {
        background: #007f5f;
        color: #fff !important;
        border-radius: 4px;
        padding: 6px 12px;
        margin: 2px;
    }

    .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
        background: #005f47;
    }

    .dataTables_wrapper .dataTables_length, 
    .dataTables_wrapper .dataTables_filter {
        color: #ffffff;
    }

    .dataTables_wrapper .dataTables_length select,
    .dataTables_wrapper .dataTables_filter input {
        background-color: #003826;
        color: #ffffff;
        border: 1px solid #005f47;
        border-radius: 4px;
        padding: 4px 8px;
    }
    .h1 {
      font-size: 40px;
    }
    a {
      color : White;
    }
</style>

<div class="table-container">
    <h1 class="h1"><b>Monitor Registration</b></h1>
<br>
  <br>
  <br>
  
</be>
    <!-- Registrants Table -->
    <h1>All Registrants</h1>
    <table id="registrantsTable" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone Number</th>
                <th>Address</th>
                <th>State</th>
                <th>Country</th>
                <th>Accommodation</th>
                <th>Marital Status</th>
            </tr>
        </thead>
        <tbody>
            {% for registrant in registrants %}
            <tr>
                <td>{{ registrant.first_name }}</td>
                <td>{{ registrant.last_name }}</td>
                <td>{{ registrant.email }}</td>
                <td>{{ registrant.phone_number }}</td>
                <td>{{ registrant.address }}</td>
                <td>{{ registrant.state }}</td>
                <td>{{ registrant.country }}</td>
                <td>{{ registrant.accommodation }}</td>
                <td>{{ registrant.marital_status }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
<br>
<br>
<hr>
<br>
<br>
    <!-- Volunteers Table -->
    <h1>All Volunteers</h1>
    <table id="volunteersTable" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone Number</th>
                <th>Address</th>
                <th>State</th>
                <th>Country</th>
                <th>Accommodation</th>
                <th>Marital Status</th>
            </tr>
        </thead>
        <tbody>
            {% for volunteer in volunteers %}
            <tr>
                <td>{{ volunteer.registrant.first_name }}</td>
                <td>{{ volunteer.registrant.last_name }}</td>
                <td>{{ volunteer.registrant.email }}</td>
                <td>{{ volunteer.registrant.phone_number }}</td>
                <td>{{ volunteer.registrant.address }}</td>
                <td>{{ volunteer.registrant.state }}</td>
                <td>{{ volunteer.registrant.country }}</td>
                <td>{{ volunteer.registrant.accommodation }}</td>
                <td>{{ volunteer.registrant.marital_status }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
<br>
<br>
<hr>
<br>
<br>
    <!-- InHouse Members Table -->
    <h1>All InHouse Members</h1>
    <table id="inhouseTable" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone Number</th>
                <th>Department</th>
            </tr>
        </thead>
        <tbody>
            {% for inhouse in inhouse_members %}
            <tr>
                <td>{{ inhouse.first_name }}</td>
                <td>{{ inhouse.last_name }}</td>
                <td>{{ inhouse.email }}</td>
                <td>{{ inhouse.phone_number }}</td>
                <td>{{ inhouse.department|capfirst }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<script>
    $(document).ready(function () {
        // Initialize DataTables for each table
        $('#registrantsTable, #volunteersTable, #inhouseTable').DataTable({
            pageLength: 10,
            searching: true,
            ordering: true,
            lengthChange: true,
            dom: "Bfrtip",
            buttons: ['print', 'csv', 'excel']
        });
    });
</script>

{% endblock %}